#<?cfg paf dictionary ?>
#
target: CameraGeomPolicy

definitions: {
    Camera: {
        type: Policy
        dictionary: {
            target: "Camera"
            definitions: {
                serial: {
                    type: int
                    description: "Camera's serial number"
                    minOccurs: 0
                    maxOccurs: 1
                    default: -1
                }
                name: {
                    type: string
                    description: "Camera's name number"
                    minOccurs: 0
                    maxOccurs: 1
                    default: "TestCam"
                }
                nCol: {
                    type: int
                    description: "Number of columns of Rafts"
                    minOccurs: 1
                    maxOccurs: 1
                }
                nRow: {
                    type: int
                    description: "Number of rows of Rafts"
                    minOccurs: 1
                    maxOccurs: 1
                }
                Raft: {
                    type: policy
                    dictionary: {
                        target: Raft
                        definitions: {
                            serial: {
                                type: int
                                description: "Raft's serial number"
                                minOccurs: 0
                                maxOccurs: 1
                                default: -1
                            }
                            name: {
                                type: string
                                minOccurs: 0
                                maxOccurs: 1
                                default: "None"
                            }
                            iCol: {
                                type: int
                                description: "X-location of Raft in Camera"
                                default: -1
                                minOccurs: 0
                                maxOccurs: 1
                            }
                            iRow: {
                                type: int
                                description: "Y-location of Raft in Camera"
                                default: -1
                                minOccurs: 0
                                maxOccurs: 1
                            }
                        }
                    }
                }
            }
        }
    }

    Raft: {
        type: Policy
        dictionary: {
            target: "Raft"
            definitions: {
                serial: {
                    type: int
                    description: "Raft's serial number"
                    minOccurs: 0
                    maxOccurs: 1
                    default: -1
                }
                name: {
                    type: string
                    minOccurs: 0
                    maxOccurs: 1
                    default: "None"
                }
                nCol: {
                    type: int
                    description: "Number of columns of CCDs"
                    minOccurs: 1
                    maxOccurs: 1
                }
                nRow: {
                    type: int
                    description: "Number of rows of CCDs"
                    minOccurs: 1
                    maxOccurs: 1
                }
                Ccd: {
                    type: policy
                    dictionary: {
                        target: Ccd
                        definitions: {
                            serial: {
                                type: int
                                description: "CCD's serial number"
                                minOccurs: 0
                                maxOccurs: 1
                                default: -1
                            }
                            name: {
                                type: string
                                minOccurs: 0
                                maxOccurs: 1
                                default: "None"
                            }
                            iCol: {
                                type: int
                                description: "X-location of CCD in Raft in range(nCol)"
                                default: -1
                                minOccurs: 0
                                maxOccurs: 1
                            }
                            iRow: {
                                type: int
                                description: "Y-location of CCD in Raft in range(nRow)"
                                default: -1
                                minOccurs: 0
                                maxOccurs: 1
                            }
                        }
                    }
                }
            }
        }
    }

    Ccd: {
        type: Policy
        dictionary: {
            target: "Ccd"
            definitions: {
                pixelSize: {
                    type: double
                    description: "Pixel size in microns"
                    minOccurs: 
                    maxOccurs: 1
                }

                nCol: {
                    type: int
                    description: "Number of columns of amps; 2 == Left and Right"
                    minOccurs: 1
                    maxOccurs: 1
                }
                nRow: {
                    type: int
                    description: "Number of rows of amps"
                    minOccurs: 1
                    maxOccurs: 1
                }
                Amp: {
                    type: policy
                    dictionary: {
                        target: Amp
                        definitions: {
                            id: {
                                type: string
                                description: "ID for this Amp"
                                default: "??"
                            }
                            iCol: {
                                type: int
                                description: "X-location of Amp in CCD in range(nCol)"
                                default: -1
                                minOccurs: 0
                                maxOccurs: 1
                            }
                            iRow: {
                                type: int
                                description: "Y-location of Amp in CCD in range(nRow)"
                                default: -1
                                minOccurs: 0
                                maxOccurs: 1
                            }
                            readoutCorner: {
                                description: "location of first pixel read"
                                allowed: {
                                    value: "LLC"
                                    description: "Lower left corner"
                                }
                                allowed: {
                                    value: "ULC"
                                    description: "Upper left corner"
                                }
                                allowed: {
                                    value: "URC"
                                    description: "Upper right corner"
                                }
                                allowed: {
                                    value: "LRC"
                                    description: "Lower right corner"
                                }
                                minOccurs: 0
                                maxOccurs: 1
                            }
                            Electronic: {
                                type: policy
                                dictionary: {
                                    target: Electronic
                                    definitions: {
                                        gain: {
                                            type: double
                                            default: 1.0
                                        }
                                        readNoise: {
                                            type: double
                                            default: 10.0
                                        }
                                        saturationLevel: {
                                            type: double
                                            default: 65535.0
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        }
    }
    #
    # Now define an Amp within a Ccd
    #
    Amp: {
        type: policy
        dictionary: {
            target: Amp
            definitions: {
                height: {
                    type: int
                    description: "Number of rows in physical device"
                    minOccurs: 1
                    maxOccurs: 1
                }
                width: {
                    type: int
                    description: "Number of columns in physical device"
                    minOccurs: 1
                    maxOccurs: 1
                }
                extended: {
                    type: int
                    description: "length of extended register"
                    minOccurs: 0
                    maxOccurs: 1
                    default: 0
                }
                preRows: {
                    type: int
                    description: "extra rows before first real serial transfer"
                    minOccurs: 0
                    maxOccurs: 1
                    default: 0
                }
                overclockH: {
                    type: int
                    description: "number of serial overclock pixels"
                    minOccurs: 0
                    maxOccurs: 1
                    default: 0
                }
                overclockV: {
                    type: int
                    description: number of parallel overclock pixels
                    minOccurs: 0
                    maxOccurs: 1
                    default: 0
                }
            }
        }
    }
}
